{% set nav='alleles' %}

{% extends "shared/base.html" %}

{% block main %}

{% set column_headings = ['Allele group', 'Number of alleles', 'Variability of alleles', 'Number of structures', 'Known peptide motifs']%}

{% include "styles.html" %}

<section>
    <div class="grid-container">
        <div class="column-full-width">
            <div class="inner">
                <small><strong>Locus</strong></small>
                <h1 class="heading-large ">{{locus | deslugify_locus}}</h1>
            </div>
        </div>
        <div class="column-one-half">
            <div class="inner">
                <div>
                    <h3 class="vertical-spacing-top-0-5 vertical-spacing-bottom-0-25 heading-small">Species</h3>
                    <a href="/alleles/species/homo_sapiens">Homo sapiens (Human)</a>
                </div>
                <div>
                    <h3 class="vertical-spacing-top-0-5  vertical-spacing-bottom-0-25 heading-small">Number of allele groups/alleles</h3>
                    <strong>{{allele_group_count}}</strong> / {{allele_count}}
                </div>
                <div>
                    <h3 class="vertical-spacing-top-0-5  vertical-spacing-bottom-0-25 heading-small">Number of structures</h3>
                    {{structure_count}}
                </div>
                <div>
                    <h3 class="vertical-spacing-top-0-5  vertical-spacing-bottom-0-25 heading-small">Number of motifs</h3>
                    {{motif_count}}
                </div>
            </div>
        </div>
        <div class="column-one-half">
            <div class="inner">
                <h3 class="vertical-spacing-top-0-5 vertical-spacing-bottom-0-25 heading-small">Allele group distribution</h3>
                <div>
                <img src="https://images.histo.fyi/graphs/locus_pie_charts/{{locus}}.svg" />
                <span aria-label="[alttext contents]" class="hidden-aria-text">{{pie_chart_alt_text}}</span>
                </div>
            </div>
        </div>
        <div class="column-full-width vertical-spacing-top-0-5">
            <div class="inner">
                <hr />
                <h2 class="vertical-spacing-top-0-5 vertical-spacing-bottom-0-5">Allele groups </h2>

                <table width="100%">
                    <thead>
                        <tr>
                            {% for column_heading in column_headings %}
                                <th><strong>{{column_heading}}</strong></th>
                            {% endfor %}
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="spacer-row"></tr>
                    
                {% for allele_group in allele_groups %}
                    <tr class="data-rows">
                        <td class="data-item">
                            <a href="/alleles/allele_group/{{allele_group}}">{{allele_group | deslugify_allele_group}}</a>
                        </td>
                        <td class="data-item">
                            {{allele_groups[allele_group].allele_count}}
                        </td>
                        <td class="data-item">
                            {{allele_groups[allele_group].variability}}
                        </td>
                        <td class="data-item">{% if allele_groups[allele_group].structure_count != 0 %}
                                {{allele_groups[allele_group].structure_count}}
                            {% endif %}
                        </td>
                        <td class="data-item">
                            {% if allele_groups[allele_group].motif_count != 0 %}
                                {{allele_groups[allele_group].motif_count }}
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>  
    </div>
</section>
{% endblock %}